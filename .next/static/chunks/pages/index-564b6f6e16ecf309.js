(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(83029)}])},83029:function(f,b,a){"use strict";a.r(b),a.d(b,{default:function(){return B}});var g,h=a(47568),i=a(10797),c=a(34051),j=a.n(c),k=a(85893),d=a(29799),l=a(59876),m=a(35074),n=a(68527),o=a(15193),p=a(79762),q=a(4612),r=a(33441),s=a(89238),t=a(67294),u=a(97375),v=a(78910),w=a(96203);function x(a){var r,b=(0,u.qY)(),x=b.isOpen,A=b.onOpen,d=b.onClose,e=(0,t.useState)(""),y=e[0],B=e[1],f=(0,t.useState)(),z=f[0],C=f[1],g=(0,t.useState)(a.nftContract),c=g[0],D=g[1],i=(0,t.useState)(),E=i[0],F=i[1],l=(0,t.useState)(""),m=l[0],G=l[1],H=function(){B(""),A()};(0,t.useEffect)(function(){if(""!==a.nftContract&&D(a.nftContract),""!==c&& void 0!==a.web3){var b=new a.web3.eth.Contract(w,c);F(b)}},[a.nftContract,c,a.web3]);var I=(r=(0,h.Z)(j().mark(function b(){var c;return j().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return C(!0),console.log(y),b.next=4,E.methods.totalSupply().call();case 4:return c=b.sent,b.next=7,E.methods.safeMint(y).send({from:a.account,value:a.web3.utils.toWei(a.mintCost.toString())});case 7:G(c),C(!1);case 10:case"end":return b.stop()}},b)})),function(){return r.apply(this,arguments)});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.zx,{onClick:function(){return H()},hidden:""===a.deployedNFTContract,children:"Mint"}),(0,k.jsxs)(v.u_,{isOpen:x,onClose:d,isCentered:!0,size:"xl",children:[(0,k.jsx)(v.ZA,{}),(0,k.jsxs)(v.hz,{children:[(0,k.jsx)(v.xB,{children:"Mint NFT"}),(0,k.jsx)(v.ol,{}),(0,k.jsx)(v.fe,{children:(0,k.jsxs)(n.gC,{children:[(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"NFT Contract"}),(0,k.jsx)(q.II,{placeholder:"NFT Contract Address",onChange:function(a){D(a.target.value)},value:c})]}),(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"Agent Wallet Address"}),(0,k.jsx)(q.II,{placeholder:"Agent Wallet Address",value:y,onChange:function(a){return B(a.target.value)}})]}),(0,k.jsx)(o.zx,{as:"a",hidden:""===m,href:"https://testnet.rarible.com/token/".concat(c,":").concat(m),target:"_blank",children:"View token on Rarible"})]})}),(0,k.jsxs)(v.mz,{children:[(0,k.jsx)(o.zx,{mr:3,onClick:d,children:"Close"}),(0,k.jsx)(o.zx,{colorScheme:"blue",mr:3,onClick:function(){return I()},children:z?(0,k.jsx)(s.$,{}):"Mint NFT"})]})]})]})]})}var e=a(3283),y=a.n(e),z=a(91993),A=d.Ue({host:"ipfs.infura.io",port:5001,protocol:"https"}),B=function(){var Z,e=(0,t.useState)(""),f=e[0],an=e[1],$=[],u=(0,t.useState)([]),v=u[0],ao=u[1],w=(0,t.useState)(""),B=w[0],ap=w[1],C=(0,t.useState)(),D=C[0],aq=C[1],E=(0,t.useState)(),ar=(E[0],E[1]),F=(0,t.useState)(""),G=F[0],as=F[1],H=(0,t.useState)(),at=(H[0],H[1]),I=(0,t.useState)(),J=I[0],au=I[1],K=(0,t.useState)(""),L=K[0],av=K[1],M=(0,t.useState)(""),c=M[0],aw=M[1],N=(0,t.useState)(),_=N[0],ax=N[1],O=(0,t.useState)(""),aa=O[0],ay=O[1],P=(0,t.useState)(""),b=P[0],az=P[1],Q=(0,t.useState)(),aA=Q[0],aB=Q[1],R=(0,t.useState)(50),ab=R[0],aC=R[1],S=(0,t.useState)(.1),T=S[0],aD=S[1],U=(0,t.useState)(10),ac=U[0],aE=U[1],V=(0,t.useState)(""),a=V[0],aF=V[1],W=(0,t.useState)(""),d=W[0],aG=W[1],X=(0,t.useState)(""),Y=X[0],aH=X[1],ad=(0,t.useRef)(null),ae=(0,t.useRef)(null),aI=(0,m.pm)(),aJ=(Z=(0,h.Z)(j().mark(function a(){var b,c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==v.length){a.next=3;break}return aI({title:"Error",description:"You need to define creator split in order to be paid ongoing royalties.",status:"error",duration:9e3,isClosable:!0}),a.abrupt("return");case 3:if(!v.map(function(a){return a.address}).some(function(a){return a==Y})){a.next=6;break}return aI({title:"Error",description:"Artist address cannot be the same as platform address",status:"error",duration:9e3,isClosable:!0}),a.abrupt("return");case 6:return au(!0),a.next=9,aR();case 9:return b=a.sent,a.next=12,aS(b);case 12:return c=a.sent,a.next=15,aL(c);case 15:au(!1);case 16:case"end":return a.stop()}},a)})),function(){return Z.apply(this,arguments)});(0,t.useEffect)(function(){aN()},[]),(0,t.useEffect)(function(){},[aa]),(0,t.useEffect)(function(){},[$]);var af,ag,ah,ai,aj,ak,aK=function(){$=[],ao([]),ae.current&&(ae.current.value=null),an(""),aC(50),aD(.1),as(""),aH(""),aE(10),ad.current&&(ad.current.value=null),au(!1),av(""),aw(""),ax(void 0),ay("")},aL=(af=(0,h.Z)(j().mark(function a(c){var d,e,f,h,i,k,l;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=100*ac,(e=v.map(function(a){return a.address})).push(Y),k=(h=(f=v.map(function(a){return 100*a.share})).reduce(function(a,b){return a+b}))*(i=500/d),f.push(k),d+=500,a.next=11,aA.methods.deploy(d.toString(),e,f,c,ab,g.utils.toWei(T.toString())).send({from:b});case 11:void 0!==(l=a.sent)&&(aF(l.events[0].address),aG(l.events[1].address));case 13:case"end":return a.stop()}},a)})),function(a){return af.apply(this,arguments)}),aM=function(){var a;return window.ethereum?a=window.ethereum:window.web3?a=window.web3.currentProvider:console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),a},aN=(ag=(0,h.Z)(j().mark(function a(){var b,c,d;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(b=aM())){a.next=14;break}return b!==window.ethereum&&console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),a.next=6,b.request({method:"eth_requestAccounts"});case 6:return g=new(y())(b),a.next=9,g.eth.getAccounts();case 9:az((c=a.sent)[0]),d=new g.eth.Contract(z,"0x8d1487d8DA75D2064271B0fA4FDe49F18303C1Eb"),aB(d),window.ethereum.on("accountsChanged",function(a){void 0===a[0]?az(""):az(a[0])});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log("There was an error fetching your accounts. Make sure your Ethereum client is configured correctly.");case 19:case"end":return a.stop()}},a,null,[[0,16]])})),function(){return ag.apply(this,arguments)}),al=(ah=(0,h.Z)(j().mark(function a(){var b,c,d,e;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return au(!0),(b=new FormData).append("audio",ae.current.files[0]),b.append("image",ad.current.files[0]),b.append("fileName",L),a.next=7,fetch("/api/createvideo",{method:"POST",body:b});case 7:return c=a.sent,a.next=10,c.blob();case 10:d=a.sent,e=new File([new Blob([d])],"".concat(L,".mp4")),ax(e),aw(URL.createObjectURL(new Blob([e],{type:"".concat(L,".mp4")}))),au(!1);case 15:case"end":return a.stop()}},a)})),function(){return ah.apply(this,arguments)}),aO=function(){ao((0,i.Z)(v).concat([{address:B,share:D}])),ap(""),aq(0)},aP=function(a,b){$=(0,i.Z)($).concat([{trait_type:a,value:b}])},aQ=function(b){var a=(0,i.Z)(v);a.splice(b,1),ao(a),ap(""),aq(1)},am=(ai=(0,h.Z)(j().mark(function a(b){var c;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:at(c=b.target.files[0]);case 2:case"end":return a.stop()}},a)})),function(a){return ai.apply(this,arguments)}),aR=(aj=(0,h.Z)(j().mark(function a(){var b;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(void 0!==_)){a.next=7;break}return au(!0),a.next=4,A.add(_);case 4:return b=a.sent.path,au(!1),a.abrupt("return",b);case 7:case"end":return a.stop()}},a)})),function(){return aj.apply(this,arguments)}),aS=(ak=(0,h.Z)(j().mark(function a(b){var c,d,e,g;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return au(!0),aP("Artist(s)",f),c=JSON.stringify({description:G,image:"https://ipfs.infura.io/ipfs/".concat(b),name:L,attributes:$}),d=new Blob([c],{type:"application/json"}),e=new File([d],"file.json"),a.next=7,A.add(e);case 7:return g=a.sent,au(!1),a.abrupt("return","https://ipfs.infura.io/ipfs/".concat(g.path));case 10:case"end":return a.stop()}},a)})),function(a){return ak.apply(this,arguments)});return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(n.W2,{mt:"20",mb:"20",maxW:["100%","70%"],children:[(0,k.jsxs)(n.Ug,{mb:"5",spacing:10,children:[(0,k.jsx)(n.X6,{children:"Create Music NFT"}),(0,k.jsx)(o.zx,{onClick:function(){return aN()},children:""!==b?"".concat(b.substring(0,5),"...").concat(b.substring(b.length-4,b.length)):"Connect Wallet"})]}),(0,k.jsxs)(n.Kq,{direction:["column","row"],children:[(0,k.jsxs)(n.gC,{children:[(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Track Title"}),(0,k.jsx)(q.II,{type:"text",onChange:function(a){return av(a.target.value)},value:L,placeholder:"Title"})]}),(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Track Description"}),(0,k.jsx)(r.g,{onChange:function(a){return as(a.target.value)},value:G,placeholder:"Description"})]}),(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Artist(s)"}),(0,k.jsx)(q.II,{type:"text",onChange:function(a){return an(a.target.value)},value:f,placeholder:"Artist(s)"})]}),(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"DV Platform Royalty Address"}),(0,k.jsx)(q.II,{type:"text",onChange:function(a){return aH(a.target.value)},value:Y,placeholder:"Platform Address"})]}),(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Maximum copies to release"}),(0,k.jsx)(q.II,{type:"number",onChange:function(a){return aC(a.target.value)},value:ab,placeholder:"e.g. 50"})]}),(0,k.jsxs)(n.Ug,{width:"100%",children:[(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Mint Cost (ETH)"}),(0,k.jsx)(q.II,{type:"number",onChange:function(a){return aD(a.target.value)},value:T,placeholder:"e.g. 0.1"})]}),(0,k.jsxs)(p.NI,{isRequired:!0,children:[(0,k.jsx)(p.lX,{children:"Royalty (%)"}),(0,k.jsx)(q.II,{type:"number",min:"5",max:"30",onChange:function(a){return aE(a.target.value)},value:ac,placeholder:"e.g. 10"})]})]}),(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"Upload Artwork"}),(0,k.jsx)(q.II,{pl:"1",pt:"1",ref:ad,type:"file",accept:"image/*",onChange:am})]}),(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"Upload Audio"}),(0,k.jsx)(q.II,{pl:"1",pt:"1",type:"file",ref:ae,accept:"audio/*",onChange:function(a){ar(a.target.files[0])}})]}),(0,k.jsx)(n.iz,{}),(0,k.jsxs)(n.Ug,{children:[(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"Creator Address"}),(0,k.jsx)(q.II,{type:"text",placeholder:"Address",onChange:function(a){return ap(a.target.value)},value:B})]}),(0,k.jsxs)(p.NI,{children:[(0,k.jsx)(p.lX,{children:"Creator Share"}),(0,k.jsx)(q.II,{type:"number",placeholder:"Value",onChange:function(a){return aq(parseInt(a.target.value))},value:D})]}),(0,k.jsx)(o.hU,{disabled:""===B||0===D||""!==c,"aria-label":"",icon:(0,k.jsx)(l.dt,{}),alignSelf:"flex-end",onClick:function(){return aO()}})]}),v.map(function(a,b){return(0,k.jsxs)(n.Ug,{children:[(0,k.jsx)(p.NI,{children:(0,k.jsx)(q.II,{disabled:!0,type:"text",placeholder:"Address",value:a.address})}),(0,k.jsx)(p.NI,{children:(0,k.jsx)(q.II,{disabled:!0,type:"number",placeholder:"Share",value:a.share})}),(0,k.jsx)(o.hU,{"aria-label":"",icon:(0,k.jsx)(l.pJ,{}),alignSelf:"flex-end",onClick:function(){return aQ(b)},disabled:""!==c})]},b)}),(0,k.jsx)(n.iz,{}),(0,k.jsx)(n.xu,{children:(0,k.jsx)(n.M5,{children:(0,k.jsx)("video",{src:c,controls:!0,width:"300px",height:"300px",hidden:""===c})})}),(0,k.jsxs)(p.NI,{hidden:""===a,children:[(0,k.jsx)(p.lX,{children:"NFT Contract Address"}),(0,k.jsx)(q.II,{disabled:!0,type:"text",placeholder:"NFT Contract Address",value:a})]}),(0,k.jsxs)(p.NI,{hidden:""===d,children:[(0,k.jsx)(p.lX,{children:"Payment Contract Address"}),(0,k.jsx)(q.II,{disabled:!0,type:"text",placeholder:"Payment Contrct Address",value:d})]}),(0,k.jsx)(n.iz,{}),(0,k.jsxs)(o.hE,{children:[(0,k.jsx)(o.zx,{onClick:function(){return aK()},colorScheme:"red",children:"Reset"}),(0,k.jsx)(o.zx,{onClick:al,hidden:void 0!==_,disabled:""===L||""===G||""===f||""===Y||0===v.length,children:J?(0,k.jsx)(s.$,{}):"Create Video"}),(0,k.jsx)(o.zx,{onClick:function(){return aJ()},hidden:""===c||""!==a,children:J?(0,k.jsx)(s.$,{}):"Create Contract"}),(0,k.jsx)(o.zx,{as:"a",href:"https://rinkeby.etherscan.io/address/".concat(a),target:"_blank",hidden:""===a,children:"View NFT Contract"}),(0,k.jsx)(o.zx,{as:"a",href:"https://rinkeby.etherscan.io/address/".concat(d),target:"_blank",hidden:""===d,children:"View Royalty Contract"}),(0,k.jsx)(x,{account:b,nftContract:a,web3:g,mintCost:T,deployedNFTContract:a})]})]}),(0,k.jsx)(n.LZ,{})]})]})})}},88677:function(){},62808:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},63897:function(){},52361:function(){},94616:function(){},6567:function(){},55896:function(){},87500:function(){},91993:function(a){"use strict";a.exports=JSON.parse('[{"inputs":[{"internalType":"uint96","name":"creatorRoyalty","type":"uint96"},{"internalType":"address[]","name":"_creators","type":"address[]"},{"internalType":"uint256[]","name":"_creatorShares","type":"uint256[]"},{"internalType":"string","name":"_tokenURI","type":"string"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"},{"internalType":"uint256","name":"_mintCost","type":"uint256"}],"name":"deploy","outputs":[{"internalType":"address","name":"contractAddress","type":"address"}],"stateMutability":"nonpayable","type":"function"}]')},96203:function(a){"use strict";a.exports=JSON.parse('[{"inputs":[{"internalType":"uint96","name":"creatorRoyalty","type":"uint96"},{"internalType":"address[]","name":"_creators","type":"address[]"},{"internalType":"uint256[]","name":"_creatorShares","type":"uint256[]"},{"internalType":"string","name":"_tokenURI","type":"string"},{"internalType":"uint256","name":"_maxSupply","type":"uint256"},{"internalType":"uint256","name":"_mintCost","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"creatorPaymentContractAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintCost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"agent","type":"address"}],"name":"safeMint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},function(a){a.O(0,[482,714,813,774,888,179],function(){var b;return a(a.s=48312)}),_N_E=a.O()}])